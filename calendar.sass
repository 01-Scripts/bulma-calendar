$calendar-border: .1rem solid $grey-lighter !default
$calendar-border-radius: $radius-small !default

.calendar
  border: $calendar-border
  border-radius: $calendar-border-radius
  display: block
  min-width: 28rem
  text-align: center
  .calendar-nav
    -webkit-align-items: center
    align-items: center
    background: $primary
    color: $white
    border-top-left-radius: $radius-small
    border-top-right-radius: $radius-small
    display: flex
    display: -ms-flexbox
    display: -webkit-flex
    -ms-flex-align: center
    font-size: $size-4
    padding: .5rem
  .calendar-header, .calendar-body
    display: flex
    display: -ms-flexbox
    display: -webkit-flex
    -ms-flex-pack: center
    -webkit-flex-wrap: wrap
    -ms-flex-wrap: wrap
    flex-wrap: wrap
    -webkit-justify-content: center
    justify-content: center
    padding: .2rem 0
  .calendar-header .calendar-date, .calendar-body .calendar-date
    -webkit-flex: 0 0 14.28%
    -ms-flex: 0 0 14.28%
    flex: 0 0 14.28%
    max-width: 14.28%
  .calendar-header
    background: darken($primary, 5%)
    color: $white
    font-size: $size-6
  .calendar-body
    color: $grey
  .calendar-date
    border: 0
    padding: .4rem
    .date-item
      -webkit-appearance: none
      -moz-appearance: none
      appearance: none
      background: transparent
      border: .1rem solid transparent
      border-radius: 50%
      color: $text
      cursor: pointer
      height: 2.8rem
      line-height: 2rem
      outline: none
      padding: .3rem
      position: relative
      text-align: center
      text-decoration: none
      transition: all .2s ease
      vertical-align: middle
      white-space: nowrap
      width: 2.8rem
      &.date-today
        border-color: $primary
        color: $primary
      &:focus
        background: $grey-lighter
        border-color: $grey-lighter
        color: $white
        text-decoration: none
      &:hover
        background: $grey-lighter
        border-color: $grey-lighter
        color: $grey
        text-decoration: none
      &:active, &.active
        background: $primary
        border-color: $primary
        color: #fff
      &.badge::after
        position: absolute
        right: .3rem
        top: .3rem
        -webkit-transform: translate(50%, -50%)
        -ms-transform: translate(50%, -50%)
        transform: translate(50%, -50%)
    &.disabled
      .date-item, .calendar-event
        cursor: default
        opacity: .25
        pointer-events: none
    .date-item:disabled, .calendar-event:disabled
      cursor: default
      opacity: .25
      pointer-events: none
  .calendar-range
    position: relative
    &::before
      background: lighten($primary, 52%)
      content: ""
      height: 2.8rem
      left: 0
      position: absolute
      right: 0
      top: 50%
      -webkit-transform: translateY(-50%)
      -ms-transform: translateY(-50%)
      transform: translateY(-50%)
    &.range-start::before
      left: 50%
    &.range-end::before
      right: 50%
    .date-item
      color: $primary

  &.is-calendar-large
    .calendar-body
      padding: 0
      .calendar-date
        border-bottom: $calendar-border
        border-right: $calendar-border
        display: flex
        display: -ms-flexbox
        display: -webkit-flex
        -webkit-flex-direction: column
        -ms-flex-direction: column
        flex-direction: column
        height: 11rem
        padding: 0
        &:nth-child(7n)
          border-right: 0
        &:nth-last-child(-n+7)
          border-bottom: 0
    .date-item
      -webkit-align-self: flex-end
      align-self: flex-end
      -ms-flex-item-align: end
      height: 2.8rem
      margin-right: .5rem
      margin-top: .5rem
    .calendar-range
      &::before
        top: 1.9rem
      &.range-start::before
        left: auto
        width: 1.9rem
      &.range-end::before
        right: 1.9rem
    .calendar-events
      -webkit-flex-grow: 1
      flex-grow: 1
      -ms-flex-positive: 1
      line-height: 1
      overflow-y: auto
      padding: .5rem
    .calendar-event
      background: #eff1fa
      border-radius: .2rem
      color: $primary
      display: block
      font-size: 1.2rem
      margin: .2rem auto
      overflow: hidden
      padding: .3rem .4rem
      text-align: left
      text-overflow: ellipsis
      vertical-align: baseline
      white-space: nowrap
